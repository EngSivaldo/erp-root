{% extends "base.html" %}

{% block content %}
<div class="flex justify-between items-center mb-6">
    <h2 class="text-2xl font-semibold">Gestão de Estoque</h2>
    <button class="bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg font-bold transition">
        + Novo Produto
    </button>
</div>

<div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
    <table class="w-full text-left border-collapse">
        <thead class="bg-gray-700 text-gray-400 uppercase text-xs font-semibold">
            <tr>
                <th class="p-4">SKU</th>
                <th class="p-4">Produto</th>
                <th class="p-4">Categoria</th>
                <th class="p-4 text-right">Preço</th>
                <th class="p-4 text-center">Saldo</th>
            </tr>
        </thead>
        <tbody class="divide-y divide-gray-700">
            {% for product in products %}
            <tr class="hover:bg-gray-750 transition">
                <td class="p-4 font-mono text-emerald-400">{{ product.sku }}</td>
                <td class="p-4 font-medium">{{ product.name }}</td>
                <td class="p-4 text-gray-400">{{ product.category.name|default:"-" }}</td>
                <td class="p-4 text-right">R$ {{ product.price }}</td>
                <td class="p-4 text-center">
                    <span class="px-3 py-1 rounded-full bg-gray-900 text-sm font-bold {% if product.current_stock < 5 %}text-red-400{% else %}text-emerald-400{% endif %}">
                        {{ product.current_stock }}
                    </span>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5" class="p-10 text-center text-gray-500 italic">
                    Nenhum produto cadastrado no estoque.
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}