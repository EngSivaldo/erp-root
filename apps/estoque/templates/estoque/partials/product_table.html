{% for product in products %}
<tr class="hover:bg-slate-800/30 transition-colors group">
    <td class="px-6 py-4">
        <div class="flex items-center">
            <div class="h-10 w-10 flex-shrink-0 bg-slate-700 rounded-lg flex items-center justify-center text-slate-400 font-bold">
                {{ product.name|slice:":1"|upper }}
            </div>
            <div class="ml-4">
                <div class="text-sm font-medium text-white">{{ product.name }}</div>
                <div class="text-xs text-slate-500">ID: #{{ product.id|stringformat:".8s" }}</div>
            </div>
        </div>
    </td>
    <td class="px-6 py-4 text-sm text-slate-300 font-mono">{{ product.sku|default:"---" }}</td>
    <td class="px-6 py-4">
        <span class="px-2.5 py-1 rounded-full text-xs font-medium bg-blue-500/10 text-blue-400 border border-blue-500/20">
            {{ product.category.name|default:"Sem Categoria" }}
        </span>
    </td>
    <td class="px-6 py-4 text-sm text-right text-white font-semibold">
        R$ {{ product.price }}
    </td>
    <td class="px-6 py-4 text-center">
        <div class="text-sm {% if product.current_stock < 10 %}text-rose-400{% else %}text-emerald-400{% endif %} font-bold">
            {{ product.current_stock }}
        </div>
    </td>
    <td class="px-6 py-4 text-center">
        {% if product.is_active %}
            <span class="inline-flex items-center gap-1.5 text-xs font-medium text-emerald-500">
                <span class="h-1.5 w-1.5 rounded-full bg-emerald-500"></span> Ativo
            </span>
        {% else %}
            <span class="inline-flex items-center gap-1.5 text-xs font-medium text-slate-500">
                <span class="h-1.5 w-1.5 rounded-full bg-slate-500"></span> Inativo
            </span>
        {% endif %}
    </td>
    <td class="px-6 py-4 text-right">
        <div class="flex justify-end gap-2">
            <button hx-get="{% url 'product_edit' product.pk %}" 
                    hx-target="#modal-container" 
                    class="p-2 text-slate-400 hover:text-amber-500 transition-colors"
                    title="Editar">
                <i class="fas fa-edit"></i>
            </button>
            <button hx-delete="{% url 'product_delete' product.pk %}" 
                    hx-confirm="Tem certeza que deseja excluir o produto {{ product.name }}?" 
                    hx-target="closest tr" 
                    hx-swap="outerHTML" 
                    class="p-2 text-slate-400 hover:text-rose-500 transition-colors"
                    title="Excluir">
                <i class="fas fa-trash"></i>
            </button>
        </div>
    </td>
</tr>
{% empty %}
<tr>
    <td colspan="7" class="px-6 py-12 text-center text-slate-500 italic">
        Nenhum produto cadastrado para este Tenant.
    </td>
</tr>
{% endfor %}